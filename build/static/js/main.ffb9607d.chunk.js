(this.webpackJsonpmygrid=this.webpackJsonpmygrid||[]).push([[0],{356:function(e){e.exports=JSON.parse('[{"id":1,"description":"1ST.STAGE SEAL GAS PRESSURE SWITCH PSLL1515A 6011760E403","code":"50414","type":"HR","parentId":null},{"id":2,"description":"STAGE","code":"20246","type":"HR","parentId":null},{"id":3,"description":"2 * 8 ANALOG INPUT (4-20MA DAI05) 37131-4-0336025  IN PANEL 330-EC01 E408170910204","code":"50414","type":"ASSETINLOCATION","parentId":null},{"id":4,"description":"1ST.STAGE TRU BEARING TEMPERATURE TE01.61B 8010120E427","code":"0E427","type":"PROD","parentId":null},{"id":5,"description":"2 * 8 ANALOG INPUT (4-20MA DAI05) 37131-4-0336025  IN PANEL 330-EC01 E408170910204","code":"STAGE","type":"TEC","parentId":3},{"id":6,"description":"STAGE","code":"0E401","type":"TEC","parentId":1},{"id":7,"description":"2 * 8 ANALOG INPUT (4-20MA DAI05) 37131-4-0336025  IN PANEL 330-EC01 E408170910204","code":"STAGE","type":"PROD","parentId":3},{"id":8,"description":"1ST.STAGE TRU BEARING TEMPERATURE TE01.61B 8010120E427","code":"STAGE","type":"PROD","parentId":3},{"id":9,"description":"2 * 8 ANALOG INPUT (4-20MA DAI05) 37131-4-0336025  IN PANEL 330-EC01 E408170910204","code":"20246","type":"PROD","parentId":1}]')},366:function(e,t,a){e.exports=a(431)},431:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),i=a.n(r),c=a(52),l=a(94),d=a(69),s=a(462),u=a(234),f=a.n(u),m=a(334),p=a(357),E=a(226),b=a.n(E),g=a(338),O=a.n(g),h=a(348),A=a.n(h),R=a(339),S=a.n(R),C=a(346),T=a.n(C),y=a(237),v=a.n(y),w=a(236),I=a.n(w),j=a(340),P=a.n(j),N=a(341),x=a.n(N),D=a(343),k=a.n(D),L=a(344),F=a.n(L),G=a(345),M=a.n(G),U=a(349),H=a.n(U),B=a(342),z=a.n(B),J=a(347),W=a.n(J),Q=a(350),V=a.n(Q),q=a(351),K=a.n(q),X=a(352),Y=a.n(X),Z=a(108),$=a(456),_={Add:o.a.forwardRef((function(e,t){return o.a.createElement(O.a,Object.assign({},e,{ref:t}))})),Check:o.a.forwardRef((function(e,t){return o.a.createElement(S.a,Object.assign({},e,{ref:t}))})),Clear:o.a.forwardRef((function(e,t){return o.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Delete:o.a.forwardRef((function(e,t){return o.a.createElement(P.a,Object.assign({},e,{ref:t}))})),DetailPanel:o.a.forwardRef((function(e,t){return o.a.createElement(v.a,Object.assign({},e,{ref:t}))})),Edit:o.a.forwardRef((function(e,t){return o.a.createElement(x.a,Object.assign({},e,{ref:t}))})),Export:o.a.forwardRef((function(e,t){return o.a.createElement(z.a,Object.assign({},e,{ref:t,onClick:function(e){return alert("SaveAlt Click me")}}))})),Filter:o.a.forwardRef((function(e,t){return o.a.createElement(k.a,Object.assign({},e,{ref:t}))})),FirstPage:o.a.forwardRef((function(e,t){return o.a.createElement(F.a,Object.assign({},e,{ref:t}))})),LastPage:o.a.forwardRef((function(e,t){return o.a.createElement(M.a,Object.assign({},e,{ref:t}))})),NextPage:o.a.forwardRef((function(e,t){return o.a.createElement(v.a,Object.assign({},e,{ref:t}))})),PreviousPage:o.a.forwardRef((function(e,t){return o.a.createElement(T.a,Object.assign({},e,{ref:t}))})),ResetSearch:o.a.forwardRef((function(e,t){return o.a.createElement(I.a,Object.assign({},e,{ref:t}))})),Search:o.a.forwardRef((function(e,t){return o.a.createElement(W.a,Object.assign({},e,{ref:t}))})),SortArrow:o.a.forwardRef((function(e,t){return o.a.createElement(A.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:o.a.forwardRef((function(e,t){return o.a.createElement(H.a,Object.assign({},e,{ref:t}))})),ViewColumn:o.a.forwardRef((function(e,t){return o.a.createElement(V.a,Object.assign({},e,{ref:t}))}))};var ee=Object(Z.a)({overrides:{MuiToolbar:{root:{direction:"ltr"}},MuiTableRow:{root:{fontFamily:"IRANSans-web",fontSize:10,height:60},head:{height:40,borderBottom:"1px solid #c7c7c7"}},MuiTableCell:{root:{padding:"0 4px",textAlign:"center"},body:{fontSize:"11px"},head:{fontSize:"0.7rem",height:60},alignLeft:{textAlign:"center"}},MuiTablePagination:{caption:{fontSize:"11px"}},MuiTableSortLabel:{root:{color:"#263238",alignContent:"center"}}}});function te(e){var t=o.a.createRef(),a=e.icons,n=e.columns,r=e.data,i=e.actions,s=e.editable,u=(e.title,e.endpoint,e.url),E=e.gridLoad,g=(e.formItemsAdd,e.formItemsEdit,e.options),O=e.parentChildData,h=e.detailPanel,A=e.onTreeExpandChange,R=Object(p.a)(e,["icons","columns","data","actions","editable","title","endpoint","url","gridLoad","formItemsAdd","formItemsEdit","options","parentChildData","detailPanel","onTreeExpandChange"]),S=o.a.useState({data:r}),C=Object(d.a)(S,2),T=C[0],y=C[1],v=o.a.useState(!1),w=Object(d.a)(v,2);w[0],w[1];function I(){return(I=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=3;break}return e.next=3,(void 0).then((function(e){console.log("loadWebService 2"),200===e.status&&(console.log("response",e.status,e.data.content),y(Object(c.a)(Object(c.a)({},T),{},{data:e.data.content})),console.log("loadWebService 3",e))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return o.a.useEffect((function(){console.log("Data Table"),function(){I.apply(this,arguments)}()}),[E]),console.log("MaterialTable is rendring",T.data),o.a.createElement($.a,{theme:ee},o.a.createElement("div",{className:"version-2"},o.a.createElement(b.a,Object.assign({icons:a||_,tableRef:t,title:"",columns:n,data:u&&Array.isArray(T.data)?T.data:r||function(e){return new Promise((function(e,t){try{new URL(u)}catch(a){t({data:null,page:0,totalCount:0,error:"invalid URL |"})}(void 0).then((function(a){200===a.status?(console.log("data",a.data.content),e({data:a.data.content,page:a.data.number,totalCount:a.data.totalElements})):t({data:null,page:0,totalCount:0})}))}))},editable:s,actions:[{isFreeAction:!0,icon:function(){return o.a.createElement(K.a,null)},tooltip:"\u0645\u0646\u0648\u0647\u0627\u06cc \u0628\u06cc\u0634\u062a\u0631",onClick:function(e,t){}},{isFreeAction:!0,icon:function(){return o.a.createElement(Y.a,null)},tooltip:"\u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc",onClick:function(e,a){return t.current&&t.current.onQueryChange()}}].concat(Object(l.a)(i)),localization:{pagination:{labelDisplayedRows:"{from}-{to} ",labelRowsPerPage:"\u0633\u0637\u0631\u0647\u0627 \u062f\u0631 \u0635\u0641\u062d\u0647:",labelRowsSelect:"\u0633\u0637\u0631\u0647\u0627"},toolbar:{nRowsSelected:"{0} \u0633\u0637\u0631(\u0647\u0627) \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647",searchPlaceholder:"\u062c\u0633\u062a\u062c\u0648"},header:{actions:"\u0639\u0645\u0644\u06cc\u0627\u062a"},body:{emptyDataSourceMessage:"\u0631\u06a9\u0648\u0631\u062f\u06cc \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f",filterRow:{filterTooltip:"\u0641\u06cc\u0644\u062a\u0631"}}},options:Object(c.a)(Object(c.a)({},g),{},{headerStyle:{fontFamily:"IRANSans-web",fontSize:12},toolbarButtonAlignment:"left",toolbarAlignment:"left"}),parentChildData:O,onTreeExpandChange:A,detailPanel:h},R))))}var ae=a(231),ne=a.n(ae),oe=a(355),re=a.n(oe),ie=a(354),ce=a.n(ie),le=a(353),de=a.n(le),se=a(457),ue=a(458),fe=a(459),me=a(463),pe=a(315),Ee=a(311),be=a(233),ge=a(299);function Oe(e){var t=e.onSave,a=o.a.useState({}),n=Object(d.a)(a,2),r=n[0],i=n[1];return o.a.createElement(s.a,{container:!0,spacing:1},o.a.createElement(s.a,{item:!0,xs:12,md:4},o.a.createElement(Ee.a,{label:"description",placeholder:"description",value:r.description,onChange:function(e){return i(Object(c.a)(Object(c.a)({},r),{},{description:e.target.value}))}})),o.a.createElement(s.a,{item:!0,xs:12,md:4},o.a.createElement(Ee.a,{label:"code",placeholder:"code",value:r.code,onChange:function(e){return i(Object(c.a)(Object(c.a)({},r),{},{code:e.target.value}))}})),o.a.createElement(s.a,{item:!0,xs:12,md:4},o.a.createElement(be.a,{value:r.type,onChange:function(e,t){return console.log(e,t)}},o.a.createElement(ge.a,{value:"TEC"},"TEC"),o.a.createElement(ge.a,{value:"PROD"},"PROD"),o.a.createElement(ge.a,{value:"HR"},"HR"),o.a.createElement(ge.a,{value:"ASSETINLOCATION"},"ASSETINLOCATION"))),o.a.createElement(s.a,{item:!0,xs:12,md:12},o.a.createElement(pe.a,{variant:"contained",color:"primary",onClick:function(){t({description:r.description,code:r.code,type:r.type})}},"Save")))}function he(e){var t=e.type,a=(e.columns,e.onClose),n=e.onSave,r=o.a.useState(!0),i=Object(d.a)(r,2);i[0],i[1];return o.a.createElement(o.a.Fragment,null,"dialog"===t&&o.a.createElement(se.a,{open:!0,onClose:a},o.a.createElement(me.a,null,"Title of Dialog"),o.a.createElement(ue.a,null,o.a.createElement(Oe,{type:t,onSave:function(e){n(e),a()}})),o.a.createElement(fe.a,null)),"detail"===t&&o.a.createElement(Oe,{type:t,onSave:function(){n()}}))}function Ae(e){var t=o.a.useState(!1),a=Object(d.a)(t,2),n=a[0],r=a[1],i=o.a.useState(e.data),u=Object(d.a)(i,2),f=u[0],m=u[1],p=o.a.useState(null),E=Object(d.a)(p,2),b=E[0],g=E[1],O=o.a.useState(),h=Object(d.a)(O,2),A=h[0],R=h[1],S={prod:{backgroundColor:"#ff0012",color:"black"},hr:{backgroundColor:"#00ff00",color:"black"},assetinlocation:{backgroundColor:"#0000ff",color:"white"},others:{}},C=[{title:"description",field:"description",render:function(e){return"PROD"===e.type?o.a.createElement("a",{href:"http://aaaa",target:"blank"},e.description):e.description}},{title:"code",field:"code"},{title:"type",field:"type"}],T=[function(e){return b&&b.id===e.parentId?{icon:function(){return o.a.createElement(de.a,{color:"disabled"})},tooltip:"Childs"}:null},{icon:ne.a,tooltip:"Add a row on tree",onClick:function(e,t){R(t),r(!0)}},{isFreeAction:!0,icon:ce.a,tooltip:"Previous",onClick:function(e,t){}},{isFreeAction:!0,icon:re.a,tooltip:"Next",onClick:function(e,t){}}],y={onRowAdd:function(e){return new Promise((function(t,a){console.log("onRowAdd",e);try{var n=0;f.forEach((function(e){e.id>n&&(n=e.id)}));var o=[].concat(Object(l.a)(f),[Object(c.a)(Object(c.a)({},e),{},{id:n+1,parentId:null})]);m(o),t()}catch(r){alert(r),a()}}))},onRowUpdate:function(e,t){return new Promise((function(a,n){try{var o=Object(l.a)(f),r=o.indexOf(t);console.log("onRowUpdate",e,t,r),void 0!==r&&r>=0?(o.splice(r,1,e),m(o)):(alert("failed because it cannot find the node"),n()),a()}catch(i){alert(i),n()}}))},onRowDelete:function(e){return new Promise((function(t,a){console.log("onRowDelete",e);try{if(e.tableData.childRows)alert("you can delete data, it has childs"),a();else{var n=Object(l.a)(f);console.log("dataDelete 1",n.length);var o=e.tableData.id;n.splice(o,1),console.log("dataDelete 2",n.length),m(Object(l.a)(n)),t()}}catch(r){a()}}))}};return[{icon:"add",tooltip:"Add on Row",render:function(e){return console.log(e),o.a.createElement(he,{type:"detail"})}}],console.log("Options is rendering",f.length),o.a.createElement(s.a,{container:!0,spacing:1},o.a.createElement(s.a,{item:!0,xs:12,md:4},o.a.createElement("div",{style:{width:20,height:20,backgroundColor:"#FF0000"}}),"PROD"),o.a.createElement(s.a,{item:!0,xs:12,md:4},o.a.createElement("div",{style:{width:20,height:20,backgroundColor:"#00FF00"}}),"HR"),o.a.createElement(s.a,{item:!0,xs:12,md:4},o.a.createElement("div",{style:{width:20,height:20,backgroundColor:"#0000FF"}}),"ASSETINLOCATION"),o.a.createElement(s.a,{item:!0,xs:12,md:12},"count:",f.length),o.a.createElement(s.a,{item:!0,xs:12,md:12},o.a.createElement(te,{columns:C,data:f,actions:T,parentChildData:function(e,t){return t.find((function(t){return t.id===e.parentId}))},editable:y,onTreeExpandChange:function(e,t){t&&g(e)},options:{rowStyle:function(e,t){},cellStyle:function(e,t){return e===t.description&&"PROD"===t.type?S.prod:e===t.description&&"HR"===t.type?S.hr:e===t.description&&"ASSETINLOCATION"===t.type?S.assetinlocation:S.other}},onRowClick:function(e,t){return R(t)}}),n&&o.a.createElement(he,{type:"dialog",onClose:function(){return r(!1)},onSave:function(e){var t=0;f.forEach((function(e){e.id>t&&(t=e.id)}));var a=Object(c.a)(Object(c.a)({},e),{},{parentId:A.id,id:t+1});console.log("add a row as node",a);var n=[].concat(Object(l.a)(f),[a]);m(n)}})),o.a.createElement(s.a,{item:!0,xs:12,md:3},o.a.createElement(pe.a,{variant:"contained",color:"primary",disabled:!A||"TEC"!==A.type,onClick:function(){alert(A.description)}},"TEC")),o.a.createElement(s.a,{item:!0,xs:12,md:3},o.a.createElement(pe.a,{variant:"contained",color:"primary",disabled:!A||"PROD"!==A.type,onClick:function(){alert(A.description)}},"PROD")),o.a.createElement(s.a,{item:!0,xs:12,md:3},o.a.createElement(pe.a,{variant:"contained",color:"primary",disabled:!A||"HR"!==A.type,onClick:function(){alert(A.description)}},"HR")),o.a.createElement(s.a,{item:!0,xs:12,md:3},o.a.createElement(pe.a,{variant:"contained",color:"primary",disabled:!A||"ASSETINLOCATION"!==A.type,onClick:function(){alert(A.description)}},"ASSETINLOCATION")))}var Re=a(356);function Se(){return o.a.createElement("div",null,o.a.createElement(Ae,{data:Re}))}i.a.render(o.a.createElement(Se,null),document.getElementById("root"))}},[[366,1,3]]]);
//# sourceMappingURL=main.ffb9607d.chunk.js.map